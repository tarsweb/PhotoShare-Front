import{u as X,a as Z,o as h,c as x,w as i,b as a,m as G,d as b,e as L,t as N,f as R,g as B,h as ee,i as J,r as te,F as ae,p as I,j as K,k as Y,l as M,n as $,q as le,s as U,v as oe,x as ne,y as S,z as g,A as se,B as A,C as Q,D as re,E as H,G as ue,H as ie,I as ce,J as de,K as ve,L as me,M as fe,N as ge,O as he,V as _e,P as be}from"./index-D2okRfwb.js";import{u as ye}from"./useAuth-C90lvqdn.js";import{V as T,a as D,m as xe,b as pe,c as Ve,u as Se,d as Te,e as ke,f as Be,g as E}from"./VGrid-DuvdOv0C.js";import{V as q,a as Ce,b as we,c as Pe}from"./index-Dwa7o3MB.js";import{V as O}from"./VDivider-BaGfhLgw.js";import{V as Ae}from"./VMenu-Ba2isWRR.js";import{V as He}from"./VSpacer-DIVn0Sud.js";import"./forwardRefs-C97S0G7w.js";import"./dialog-transition-pFs09TYc.js";const Ne={key:1,class:"text-h5"},Ie={class:"mx-auto text-center"},Re={key:1,class:"text-h5"},Ee={class:"text-caption mt-1"},Le={class:"d-flex flex-column mt-2"},Ue={__name:"index",setup(e){const{user:n,getCurrentUser:t}=J();X();const u=Z(),{logout:l}=ye(),o=async()=>{await l(),n.value=null,u.push({name:"Login"})};return(y,_)=>(h(),x(Ae,{"min-width":"200px",rounded:"",transition:"slide-x-transition"},{activator:i(({props:v})=>[a(T,G({icon:""},v),{default:i(()=>[a(q,{color:"brown",size:"large"},{default:i(()=>{var m,r,d;return[(m=b(n))!=null&&m.avatar?(h(),x(D,{key:0,src:(r=b(n))==null?void 0:r.avatar},null,8,["src"])):(h(),L("span",Ne,N((d=b(n))==null?void 0:d.username),1))]}),_:1})]),_:2},1040)]),default:i(()=>[a(Ce,null,{default:i(()=>[a(we,null,{default:i(()=>{var v,m;return[R("div",Ie,[a(q,{color:"brown"},{default:i(()=>{var r,d,f;return[(r=b(n))!=null&&r.avatar?(h(),x(D,{key:0,src:(d=b(n))==null?void 0:d.avatar},null,8,["src"])):(h(),L("span",Re,N((f=b(n))==null?void 0:f.username),1))]}),_:1}),R("p",Ee,N((v=b(n))==null?void 0:v.email),1),a(O,{class:"my-3"}),R("div",Le,[a(T,{rounded:"",variant:"text",type:"text",to:{name:"UserProfile"}},{default:i(()=>[B(" Edit Account ")]),_:1}),((m=b(n))==null?void 0:m.role)==="ADMIN"?(h(),x(T,{key:0,rounded:"",variant:"text",type:"text",to:{name:"Users"}},{default:i(()=>[B(" Manage Users ")]),_:1})):ee("",!0)]),a(O,{class:"my-3"}),a(T,{rounded:"",variant:"text",type:"text",onClick:o},{default:i(()=>[B(" Logout ")]),_:1})])]}),_:1})]),_:1})]),_:1}))}},De={__name:"index",setup(e){const n=[{href:"/login",text:"Login",icon:"mdi-message-reply-text"},{href:"/register",text:"Register",icon:"mdi-message-text"}];return(t,u)=>(h(),L(ae,null,te(n,l=>a(T,{to:l.href,"prepend-icon":l.icon},{default:i(()=>[B(N(l.text),1)]),_:2},1032,["to","prepend-icon"])),64))}},Me=I({text:String,...K(),...Y()},"VToolbarTitle"),$e=M()({name:"VToolbarTitle",props:Me(),setup(e,n){let{slots:t}=n;return $(()=>{const u=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[u&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),ze=[null,"prominent","default","comfortable","compact"],W=I({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ze.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...xe(),...K(),...pe(),...Ve(),...Y({tag:"header"}),...le()},"VToolbar"),j=M()({name:"VToolbar",props:W(),setup(e,n){var c;let{slots:t}=n;const{backgroundColorClasses:u,backgroundColorStyles:l}=Se(U(e,"color")),{borderClasses:o}=Te(e),{elevationClasses:y}=ke(e),{roundedClasses:_}=Be(e),{themeClasses:v}=oe(e),{rtlClasses:m}=ne(),r=S(!!(e.extended||(c=t.extension)!=null&&c.call(t))),d=g(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=g(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return se({VBtn:{variant:"text"}}),$(()=>{var w;const V=!!(e.title||t.title),k=!!(t.image||e.image),C=(w=t.extension)==null?void 0:w.call(t);return r.value=!!(e.extended||C),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,o.value,y.value,_.value,v.value,m.value,e.class],style:[l.value,e.style]},{default:()=>[k&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(E,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(D,{key:"image-img",cover:!0,src:e.image},null)]),a(E,{defaults:{VTabs:{height:A(d.value)}}},{default:()=>{var P,s,p;return[a("div",{class:"v-toolbar__content",style:{height:A(d.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(P=t.prepend)==null?void 0:P.call(t)]),V&&a($e,{key:"title",text:e.title},{text:t.title}),(s=t.default)==null?void 0:s.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(p=t.append)==null?void 0:p.call(t)])])]}}),a(E,{defaults:{VTabs:{height:A(f.value)}}},{default:()=>[a(Pe,null,{default:()=>[r.value&&a("div",{class:"v-toolbar__extension",style:{height:A(f.value)}},[C])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),Fe=I({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function qe(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let u=0;const l=Q(null),o=S(0),y=S(0),_=S(0),v=S(!1),m=S(!1),r=g(()=>Number(e.scrollThreshold)),d=g(()=>re((r.value-o.value)/r.value||0)),f=()=>{const c=l.value;!c||t&&!t.value||(u=o.value,o.value="window"in c?c.pageYOffset:c.scrollTop,m.value=o.value<u,_.value=Math.abs(o.value-r.value))};return H(m,()=>{y.value=y.value||o.value}),H(v,()=>{y.value=0}),ue(()=>{H(()=>e.scrollTarget,c=>{var k;const V=c?document.querySelector(c):window;V&&V!==l.value&&((k=l.value)==null||k.removeEventListener("scroll",f),l.value=V,l.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),ie(()=>{var c;(c=l.value)==null||c.removeEventListener("scroll",f)}),t&&H(t,f,{immediate:!0}),{scrollThreshold:r,currentScroll:o,currentThreshold:_,isScrollActive:v,scrollRatio:d,isScrollingUp:m,savedScroll:y}}const Oe=I({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...W(),...ce(),...Fe(),height:{type:[Number,String],default:64}},"VAppBar"),je=M()({name:"VAppBar",props:Oe(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const u=Q(),l=de(e,"modelValue"),o=g(()=>{var p;const s=new Set(((p=e.scrollBehavior)==null?void 0:p.split(" "))??[]);return{hide:s.has("hide"),fullyHide:s.has("fully-hide"),inverted:s.has("inverted"),collapse:s.has("collapse"),elevate:s.has("elevate"),fadeImage:s.has("fade-image")}}),y=g(()=>{const s=o.value;return s.hide||s.fullyHide||s.inverted||s.collapse||s.elevate||s.fadeImage||!l.value}),{currentScroll:_,scrollThreshold:v,isScrollingUp:m,scrollRatio:r}=qe(e,{canScroll:y}),d=g(()=>o.value.hide||o.value.fullyHide),f=g(()=>e.collapse||o.value.collapse&&(o.value.inverted?r.value>0:r.value===0)),c=g(()=>e.flat||o.value.fullyHide&&!l.value||o.value.elevate&&(o.value.inverted?_.value>0:_.value===0)),V=g(()=>o.value.fadeImage?o.value.inverted?1-r.value:r.value:void 0),k=g(()=>{var z,F;const s=Number(((z=u.value)==null?void 0:z.contentHeight)??e.height),p=Number(((F=u.value)==null?void 0:F.extensionHeight)??0);return d.value?_.value<v.value||o.value.fullyHide?s+p:s:s+p});ve(g(()=>!!e.scrollBehavior),()=>{me(()=>{d.value?o.value.inverted?l.value=_.value>v.value:l.value=m.value||_.value<v.value:l.value=!0})});const{ssrBootStyles:C}=fe(),{layoutItemStyles:w,layoutIsReady:P}=ge({id:e.name,order:g(()=>parseInt(e.order,10)),position:U(e,"location"),layoutSize:k,elementSize:S(void 0),active:l,absolute:U(e,"absolute")});return $(()=>{const s=j.filterProps(e);return a(j,G({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":V.value,height:void 0,...C.value},e.style]},s,{collapse:f.value,flat:c.value}),t)}),P}}),Ge={__name:"AppBar",setup(e){const{isAuth:n}=J();return(t,u)=>(h(),x(je,{flat:"",prominent:""},{default:i(()=>[a(T,{type:"button",to:{name:"Home"}},{default:i(()=>[B("Home")]),_:1}),a(T,{type:"button",to:{name:"About"}},{default:i(()=>[B("About")]),_:1}),a(He),b(n)?(h(),x(b(Ue),{key:0})):(h(),x(b(De),{key:1}))]),_:1}))}},Je={__name:"View",setup(e){return(n,t)=>{const u=he("router-view");return h(),x(_e,null,{default:i(()=>[a(u)]),_:1})}}},lt={__name:"Default",setup(e){return(n,t)=>(h(),x(be,null,{default:i(()=>[a(Ge),a(Je)]),_:1}))}};export{lt as default};
