import{u as G,a as O,o as i,c as y,w as r,b as s,m as M,d as p,e as I,t as T,f as H,g as S,h as Y,i as D,r as J,F as K,p as z,j as F,s as b,k as f,l as Q,n as k,q as W,v as X,x as Z,y as ee,z as te,A as ae,B as le,C as oe,D as se,E as N,G as re,H as ne,V as ue,I as ce}from"./index-BcJAJJx9.js";import{u as ie}from"./useAuth-D4cMqWOv.js";import{V,a as R}from"./VGrid-B_QjDczI.js";import{V as P,a as de,b as ve}from"./index-GJqDdz80.js";import{V as E}from"./VDivider-BAv-tlK-.js";import{V as me}from"./VMenu-DyKu9IQr.js";import{V as fe}from"./VSpacer-C8mZfjPe.js";import{m as pe,V as U}from"./VToolbar-Ur3Qnz46.js";import"./position-CLLaUIAh.js";import"./forwardRefs-DrG2L8DJ.js";const he={key:1,class:"text-h5"},_e={class:"mx-auto text-center"},ge={key:1,class:"text-h5"},ye={class:"text-caption mt-1"},xe={class:"d-flex flex-column mt-2"},Ve={__name:"index",setup(e){const{user:a,getCurrentUser:d}=D();G();const u=O(),{logout:l}=ie(),t=async()=>{await l(),a.value=null,u.push({name:"Login"})};return(x,_)=>(i(),y(me,{"min-width":"200px",rounded:"",transition:"slide-x-transition"},{activator:r(({props:v})=>[s(V,M({icon:""},v),{default:r(()=>[s(P,{color:"brown",size:"large"},{default:r(()=>{var m,n,h;return[(m=p(a))!=null&&m.avatar?(i(),y(R,{key:0,src:(n=p(a))==null?void 0:n.avatar},null,8,["src"])):(i(),I("span",he,T((h=p(a))==null?void 0:h.username),1))]}),_:1})]),_:2},1040)]),default:r(()=>[s(de,null,{default:r(()=>[s(ve,null,{default:r(()=>{var v,m;return[H("div",_e,[s(P,{color:"brown"},{default:r(()=>{var n,h,g;return[(n=p(a))!=null&&n.avatar?(i(),y(R,{key:0,src:(h=p(a))==null?void 0:h.avatar},null,8,["src"])):(i(),I("span",ge,T((g=p(a))==null?void 0:g.username),1))]}),_:1}),H("p",ye,T((v=p(a))==null?void 0:v.email),1),s(E,{class:"my-3"}),H("div",xe,[s(V,{rounded:"",variant:"text",type:"text",to:{name:"UserProfile"}},{default:r(()=>[S(" Edit Account ")]),_:1}),((m=p(a))==null?void 0:m.role)==="ADMIN"?(i(),y(V,{key:0,rounded:"",variant:"text",type:"text",to:{name:"Users"}},{default:r(()=>[S(" Manage Users ")]),_:1})):Y("",!0)]),s(E,{class:"my-3"}),s(V,{rounded:"",variant:"text",type:"text",onClick:t},{default:r(()=>[S(" Logout ")]),_:1})])]}),_:1})]),_:1})]),_:1}))}},be={__name:"index",setup(e){const a=[{href:"/login",text:"Login",icon:"mdi-message-reply-text"},{href:"/register",text:"Register",icon:"mdi-message-text"}];return(d,u)=>(i(),I(K,null,J(a,l=>s(V,{to:l.href,"prepend-icon":l.icon},{default:r(()=>[S(T(l.text),1)]),_:2},1032,["to","prepend-icon"])),64))}},Se=z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Be(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:d}=a;let u=0;const l=F(null),t=b(0),x=b(0),_=b(0),v=b(!1),m=b(!1),n=f(()=>Number(e.scrollThreshold)),h=f(()=>Q((n.value-t.value)/n.value||0)),g=()=>{const c=l.value;!c||d&&!d.value||(u=t.value,t.value="window"in c?c.pageYOffset:c.scrollTop,m.value=t.value<u,_.value=Math.abs(t.value-n.value))};return k(m,()=>{x.value=x.value||t.value}),k(v,()=>{x.value=0}),W(()=>{k(()=>e.scrollTarget,c=>{var A;const B=c?document.querySelector(c):window;B&&B!==l.value&&((A=l.value)==null||A.removeEventListener("scroll",g),l.value=B,l.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),X(()=>{var c;(c=l.value)==null||c.removeEventListener("scroll",g)}),d&&k(d,g,{immediate:!0}),{scrollThreshold:n,currentScroll:t,currentThreshold:_,isScrollActive:v,scrollRatio:h,isScrollingUp:m,savedScroll:x}}const we=z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...pe(),...Z(),...Se(),height:{type:[Number,String],default:64}},"VAppBar"),Ae=ee()({name:"VAppBar",props:we(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:d}=a;const u=F(),l=te(e,"modelValue"),t=f(()=>{var w;const o=new Set(((w=e.scrollBehavior)==null?void 0:w.split(" "))??[]);return{hide:o.has("hide"),fullyHide:o.has("fully-hide"),inverted:o.has("inverted"),collapse:o.has("collapse"),elevate:o.has("elevate"),fadeImage:o.has("fade-image")}}),x=f(()=>{const o=t.value;return o.hide||o.fullyHide||o.inverted||o.collapse||o.elevate||o.fadeImage||!l.value}),{currentScroll:_,scrollThreshold:v,isScrollingUp:m,scrollRatio:n}=Be(e,{canScroll:x}),h=f(()=>t.value.hide||t.value.fullyHide),g=f(()=>e.collapse||t.value.collapse&&(t.value.inverted?n.value>0:n.value===0)),c=f(()=>e.flat||t.value.fullyHide&&!l.value||t.value.elevate&&(t.value.inverted?_.value>0:_.value===0)),B=f(()=>t.value.fadeImage?t.value.inverted?1-n.value:n.value:void 0),A=f(()=>{var C,L;const o=Number(((C=u.value)==null?void 0:C.contentHeight)??e.height),w=Number(((L=u.value)==null?void 0:L.extensionHeight)??0);return h.value?_.value<v.value||t.value.fullyHide?o+w:o:o+w});ae(f(()=>!!e.scrollBehavior),()=>{le(()=>{h.value?t.value.inverted?l.value=_.value>v.value:l.value=m.value||_.value<v.value:l.value=!0})});const{ssrBootStyles:$}=oe(),{layoutItemStyles:q,layoutIsReady:j}=se({id:e.name,order:f(()=>parseInt(e.order,10)),position:N(e,"location"),layoutSize:A,elementSize:b(void 0),active:l,absolute:N(e,"absolute")});return re(()=>{const o=U.filterProps(e);return s(U,M({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...q.value,"--v-toolbar-image-opacity":B.value,height:void 0,...$.value},e.style]},o,{collapse:g.value,flat:c.value}),d)}),j}}),ke={__name:"AppBar",setup(e){const{isAuth:a}=D();return(d,u)=>(i(),y(Ae,{flat:"",prominent:""},{default:r(()=>[s(V,{type:"button",to:{name:"Home"}},{default:r(()=>[S("Home")]),_:1}),s(V,{type:"button",to:{name:"About"}},{default:r(()=>[S("About")]),_:1}),s(fe),p(a)?(i(),y(p(Ve),{key:0})):(i(),y(p(be),{key:1}))]),_:1}))}},Te={__name:"View",setup(e){return(a,d)=>{const u=ne("router-view");return i(),y(ue,null,{default:r(()=>[s(u)]),_:1})}}},De={__name:"Default",setup(e){return(a,d)=>(i(),y(ce,null,{default:r(()=>[s(ke),s(Te)]),_:1}))}};export{De as default};
