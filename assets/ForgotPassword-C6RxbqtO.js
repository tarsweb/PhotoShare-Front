import{Y as D,p as I,Q as G,R as oe,S as ne,y as W,T as se,U as ae,K as le,j as p,k as b,s as R,n as ie,Z as ue,b as a,G as B,_ as O,$ as re,a0 as de,a1 as N,z as ce,m as q,C as ve,a2 as me,X as H,N as fe,a as he,o as X,c as Y,w as m,g as C,t as we,d as T,P as M,h as ge}from"./index-Z1hiaUsT.js";import{u as ye}from"./useAuth-BR5uOYGO.js";import{V as Ve}from"./position-BmiPJEqV.js";import{V as be}from"./VSheet-CUCoC64A.js";import{V as _e}from"./VSnackbar-DMKAaZT6.js";import{u as pe,V as S,m as xe,c as Te,M as Pe}from"./VGrid-CAu0qDfz.js";import{m as ke,u as Ce}from"./forwardRefs-Dw6tn-pU.js";import{a as L,d as F}from"./index-B0XbVx1T.js";import{d as U,e as E}from"./VTextField-BjDAMsMK.js";import{V as Se}from"./VContainer-BkvQli2j.js";const Ie=Symbol.for("vuetify:v-tabs"),We=e=>{const{touchstartX:o,touchendX:t,touchstartY:n,touchendY:l}=e,c=.5,s=16;e.offsetX=t-o,e.offsetY=l-n,Math.abs(e.offsetY)<c*Math.abs(e.offsetX)&&(e.left&&t<o-s&&e.left(e),e.right&&t>o+s&&e.right(e)),Math.abs(e.offsetX)<c*Math.abs(e.offsetY)&&(e.up&&l<n-s&&e.up(e),e.down&&l>n+s&&e.down(e))};function Be(e,o){var n;const t=e.changedTouches[0];o.touchstartX=t.clientX,o.touchstartY=t.clientY,(n=o.start)==null||n.call(o,{originalEvent:e,...o})}function Ee(e,o){var n;const t=e.changedTouches[0];o.touchendX=t.clientX,o.touchendY=t.clientY,(n=o.end)==null||n.call(o,{originalEvent:e,...o}),We(o)}function Re(e,o){var n;const t=e.changedTouches[0];o.touchmoveX=t.clientX,o.touchmoveY=t.clientY,(n=o.move)==null||n.call(o,{originalEvent:e,...o})}function Xe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Be(t,o),touchend:t=>Ee(t,o),touchmove:t=>Re(t,o)}}function Ye(e,o){var u;const t=o.value,n=t!=null&&t.parent?e.parentElement:e,l=(t==null?void 0:t.options)??{passive:!0},c=(u=o.instance)==null?void 0:u.$.uid;if(!n||!c)return;const s=Xe(o.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[c]=s,D(s).forEach(f=>{n.addEventListener(f,s[f],l)})}function $e(e,o){var c,s;const t=(c=o.value)!=null&&c.parent?e.parentElement:e,n=(s=o.instance)==null?void 0:s.$.uid;if(!(t!=null&&t._touchHandlers)||!n)return;const l=t._touchHandlers[n];D(l).forEach(u=>{t.removeEventListener(u,l[u])}),delete t._touchHandlers[n]}const K={mounted:Ye,unmounted:$e},He=K,Q=Symbol.for("vuetify:v-window"),Z=Symbol.for("vuetify:v-window-group"),J=I({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...G(),...oe(),...ne()},"VWindow"),A=W()({name:"VWindow",directives:{Touch:K},props:J(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const{themeClasses:n}=se(e),{isRtl:l}=ae(),{t:c}=le(),s=pe(e,Z),u=p(),f=b(()=>l.value?!e.reverse:e.reverse),r=R(!1),y=b(()=>{const h=e.direction==="vertical"?"y":"x",_=(f.value?!r.value:r.value)?"-reverse":"";return`v-window-${h}${_}-transition`}),V=R(0),x=p(void 0),P=b(()=>s.items.value.findIndex(h=>s.selected.value.includes(h.id)));ie(P,(h,g)=>{const _=s.items.value.length,$=_-1;_<=2?r.value=h<g:h===$&&g===0?r.value=!0:h===0&&g===$?r.value=!1:r.value=h<g}),ue(Q,{transition:y,isReversed:r,transitionCount:V,transitionHeight:x,rootRef:u});const w=b(()=>e.continuous||P.value!==0),k=b(()=>e.continuous||P.value!==s.items.value.length-1);function v(){w.value&&s.prev()}function i(){k.value&&s.next()}const d=b(()=>{const h=[],g={icon:l.value?e.nextIcon:e.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:s.prev,"aria-label":c("$vuetify.carousel.prev")};h.push(w.value?t.prev?t.prev({props:g}):a(S,g,null):a("div",null,null));const _={icon:l.value?e.prevIcon:e.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:s.next,"aria-label":c("$vuetify.carousel.next")};return h.push(k.value?t.next?t.next({props:_}):a(S,_,null):a("div",null,null)),h}),te=b(()=>e.touch===!1?e.touch:{...{left:()=>{f.value?v():i()},right:()=>{f.value?i():v()},start:g=>{let{originalEvent:_}=g;_.stopPropagation()}},...e.touch===!0?{}:e.touch});return B(()=>O(a(e.tag,{ref:u,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var h,g;return[a("div",{class:"v-window__container",style:{height:x.value}},[(h=t.default)==null?void 0:h.call(t,{group:s}),e.showArrows!==!1&&a("div",{class:"v-window__controls"},[d.value])]),(g=t.additional)==null?void 0:g.call(t,{group:s})]}}),[[re("touch"),te.value]])),{group:s}}}),Me=I({...de(J(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Le=W()({name:"VTabsWindow",props:Me(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const n=N(Ie,null),l=ce(e,"modelValue"),c=b({get(){var s;return l.value!=null||!n?l.value:(s=n.items.value.find(u=>n.selected.value.includes(u.id)))==null?void 0:s.value},set(s){l.value=s}});return B(()=>{const s=A.filterProps(e);return a(A,q({_as:"VTabsWindow"},s,{modelValue:c.value,"onUpdate:modelValue":u=>c.value=u,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),t)}),{}}}),ee=I({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...G(),...xe(),...ke()},"VWindowItem"),j=W()({name:"VWindowItem",directives:{Touch:He},props:ee(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:t}=o;const n=N(Q),l=Te(e,Z),{isBooted:c}=ve();if(!n||!l)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=R(!1),u=b(()=>c.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function f(){!s.value||!n||(s.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function r(){var w;s.value||!n||(s.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=H((w=n.rootRef.value)==null?void 0:w.clientHeight)),n.transitionCount.value+=1)}function y(){f()}function V(w){s.value&&fe(()=>{!u.value||!s.value||!n||(n.transitionHeight.value=H(w.clientHeight))})}const x=b(()=>{const w=n.isReversed.value?e.reverseTransition:e.transition;return u.value?{name:typeof w!="string"?n.transition.value:w,onBeforeEnter:r,onAfterEnter:f,onEnterCancelled:y,onBeforeLeave:r,onAfterLeave:f,onLeaveCancelled:y,onEnter:V}:!1}),{hasContent:P}=Ce(e,l.isSelected);return B(()=>a(Pe,{transition:x.value,disabled:!c.value},{default:()=>{var w;return[O(a("div",{class:["v-window-item",l.selectedClass.value,e.class],style:e.style},[P.value&&((w=t.default)==null?void 0:w.call(t))]),[[me,l.isSelected.value]])]}})),{groupItem:l}}}),Fe=I({...ee()},"VTabsWindowItem"),z=W()({name:"VTabsWindowItem",props:Fe(),setup(e,o){let{slots:t}=o;return B(()=>{const n=j.filterProps(e);return a(j,q({_as:"VTabsWindowItem"},n,{class:["v-tabs-window-item",e.class],style:e.style}),t)}),{}}}),Ue={__name:"index",setup(e){const{isLoading:o,error:t,forgotPassword:n,resetPassword:l}=ye(),c=he(),s=p(!1),u=p(!1),f=p({login:""}),r=p({reset_token:"",new_password:"",confirm_password:""}),y=p(!1),V=p(!1),x=p(0),P=async()=>{s.value&&n({email:f.value.login}).then(v=>{r.value.reset_token=v,x.value=1}).catch(v=>{y.value=!0})},w=async()=>{u.value&&l({reset_token:r.value.reset_token,new_password:r.value.new_password,confirm_password:V.value?r.value.new_password:r.value.confirm_password}).then(()=>{c.push({name:"Home"})}).catch(v=>{y.value=!0})},k={login:[v=>v?!0:"Login is required",v=>v.length<2?"Length login error":!0],password:[v=>v?!0:"Password is required",v=>v.length<8?"Password length incorrect":!0]};return(v,i)=>(X(),Y(Se,{class:"fill-height"},{default:m(()=>[a(Ve,{class:"align-center text-center fill-height"},{default:m(()=>[a(be,{class:"fill-height pa-12",rounded:""},{default:m(()=>[a(_e,{modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=d=>y.value=d),location:"right top",color:"error",transition:"slide-x-transition",eager:"",vertical:"",offset:"10000"},{actions:m(()=>[a(S,{variant:"text",onClick:i[0]||(i[0]=d=>y.value=!1)},{default:m(()=>[C(" Close ")]),_:1})]),default:m(()=>{var d;return[C(we((d=T(t))==null?void 0:d.text)+" ",1)]}),_:1},8,["modelValue"]),a(Le,{modelValue:x.value,"onUpdate:modelValue":i[8]||(i[8]=d=>x.value=d)},{default:m(()=>[a(z,{value:"true"},{default:m(()=>[a(L,{flat:"",class:"mx-auto px-6 py-8","max-width":"344"},{default:m(()=>[a(F,{class:"text-h6 mb-4"},{default:m(()=>[C(" Forget password ")]),_:1}),a(U,{modelValue:s.value,"onUpdate:modelValue":i[3]||(i[3]=d=>s.value=d),onSubmit:M(P,["prevent"])},{default:m(()=>[a(E,{modelValue:f.value.login,"onUpdate:modelValue":i[2]||(i[2]=d=>f.value.login=d),modelModifiers:{trim:!0},readonly:v.loading,rules:k.login,type:"email",placeholder:"Email address",class:"mb-2",clearable:!v.loading,variant:"outlined",density:"compact","prepend-inner-icon":"mdi-email-outline"},null,8,["modelValue","readonly","rules","clearable"]),a(S,{disabled:!s.value,loading:T(o),block:"",color:"success",size:"large",type:"submit"},{default:m(()=>[C(" Send ")]),_:1},8,["disabled","loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(z,{value:"false"},{default:m(()=>[a(L,{flat:"",class:"mx-auto px-6 py-8","max-width":"344"},{default:m(()=>[a(F,{class:"text-h6 mb-4"},{default:m(()=>[C(" Reset password ")]),_:1}),a(U,{modelValue:u.value,"onUpdate:modelValue":i[7]||(i[7]=d=>u.value=d),onSubmit:M(w,["prevent"])},{default:m(()=>[a(E,{modelValue:r.value.new_password,"onUpdate:modelValue":i[4]||(i[4]=d=>r.value.new_password=d),modelModifiers:{trim:!0},readonly:T(o),type:V.value?"text":"password",rules:k.password,"append-inner-icon":V.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":i[5]||(i[5]=d=>V.value=!V.value),"prepend-inner-icon":"mdi-lock-outline",class:"mb-4",clearable:!T(o),autocomplete:"on",variant:"outlined",density:"compact",label:"New password",placeholder:"Enter your new password"},null,8,["modelValue","readonly","type","rules","append-inner-icon","clearable"]),V.value?ge("",!0):(X(),Y(E,{key:0,modelValue:r.value.confirm_password,"onUpdate:modelValue":i[6]||(i[6]=d=>r.value.confirm_password=d),modelModifiers:{trim:!0},readonly:T(o),type:"password",rules:k.password,"prepend-inner-icon":"mdi-lock-outline",class:"mb-4",clearable:!T(o),autocomplete:"on",variant:"outlined",density:"compact",label:"Confirm password",placeholder:"Confirm your new password"},null,8,["modelValue","readonly","rules","clearable"])),a(S,{disabled:!u.value,loading:T(o),block:"",color:"success",size:"large",type:"submit"},{default:m(()=>[C(" Send ")]),_:1},8,["disabled","loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}},Ze={__name:"ForgotPassword",setup(e){return(o,t)=>(X(),Y(T(Ue)))}};export{Ze as default};
